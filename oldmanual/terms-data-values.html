<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=US-ASCII">
<title>Terms, data, values.</title>
<link rel="previous" href="documents.html">
<link rel="ToC" href="index.html">
<link rel="index" href="bookindex.html">
<link rel="next" href="docs-dos-and-donts.html">
</head>
<body>
<p><a href="documents.html">Previous</a> | <a href="index.html">Contents</a> | <a href="bookindex.html">Index</a> | <a href="docs-dos-and-donts.html">Next</a></p>
<h1><a name="terms-data-values"></a>3.1 Terms, data, values.</h1>
<p>
Documents have three components: terms, data and values.
</p>
<p>
<em>Terms</em> are the basic unit of information retrieval used by Xapian. At its simplest, a search is a process of matching terms specified in a query against terms in a document, and returning the best matches. A term will often be generated for each word in a piece of text, possibly by applying some form of normalisation (such as applying a <em>stemmer</em> to convert different forms of a word to a standard form), but this isn't required, and there is a very wide range of useful strategies for producing terms.
</p>
<p>
<em>Data</em> is an arbitrary blob of data associated with the document. Xapian does nothing with this data other than store it in the database and return it when requested. It can be used to hold a reference to an external piece of information about the document (such as the primary key in an external database table containing the document information), or could be used to store the full text of the document. Generally, the best thing to do with the document data is to store any information you need to display the resulting document to the user (or to whatever process consumes the results of searches). There is no standard serialisation scheme for putting structured data into the document data: depending on your application, you might want to roll a simple scheme using newlines to separate values, use JSON or XML serialisation, or use some language-specific method of pickling data.
</p>
<p>
<em>Values</em> are, in a sense, a more flexible version of terms. Each document can have a set of values associated with it, which hold pieces of data which can be useful during a search. These pieces of data could be things such as keys which you want to be able to sort the results on, or numbers to be used to affect the weight calculated for documents during the search. It is important to keep the amount of data stored in the values to a minimum, since the data for a large number of documents will be read during the search, and unused data will thus slow the search down. Developers are often tempted to use the value slots to hold inforamtion which should really be stored in the document's data area; don't succumb to this temptation.
</p>

<hr><address></address></body>
</html>
