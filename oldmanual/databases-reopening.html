<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=US-ASCII">
<title>Reopening</title>
<link rel="previous" href="databases-flipping.html">
<link rel="ToC" href="index.html">
<link rel="index" href="bookindex.html">
<link rel="next" href="metadata.html">
</head>
<body>
<p><a href="databases-flipping.html">Previous</a> | <a href="index.html">Contents</a> | <a href="bookindex.html">Index</a> | <a href="metadata.html">Next</a></p>
<h1><a name="databases-reopening"></a>2.7 Reopening</h1>
<p>
Database readers access a static version of the database, and do not reflect updates to the database made since they were opened. The version of the database accessed by the reader can be updated to the latest version by calling the <code>Xapian::Database::reopen()</code> method. This is faster than closing the database and opening a fresh reader - especially in the case when no changes have been made.
</p>
<p>
FIXME - talk about strategies to avoid the DatabaseModifiedError - eg, calling reopen before performing each search, putting searches into a loop which repeats if DatabaseModifiedError occurs, and ensuring that commits() don't happen with a shorter gap than the time searches take.
</p>
<p>
When a <code>Xapian::DatabaseModifiedError</code> is received the reader can be updated to the latest version
</p>
<p>
FIXME - add a warning about stubs not being re-read, and a link to the relevant ticket.
</p>

<hr><address></address></body>
</html>
